<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Test</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<script src="http://s3.amazonaws.com/filestore.rescuegroups.org/scripts/noncvs/jquery-json.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.1/lodash.js"></script>
 
</head>
<body>

We've adopted <span id="adoptedPetsCount">a lot of</span> pets!

 <div>
 <br> <!-- div.input-group -->
          <input id='breedInput' placeholder="Enter animal breed here" class='form-control' type="text">
          <input type="text" id="zip" class="form-control" placeholder="Enter your ZIP code here">
          <!-- <span class="input-group-btn"> -->
          <input id="submitBtn" type="submit" class="btn-info btn input-group"></input> 
          <!-- </span> -->
        </div>



<!-- https://userguide.rescuegroups.org/display/APIDG/Object+definitions -->

<script>
var animal = "dog";
var miles = "100";
var zipCode = "07024"
var animalBreed = "";


var thing = {
	"apikey":"2mV1s2Z2","objectType":"animals","objectAction":"publicSearch","search":{"calcFoundRows":"Yes","resultStart":0,"resultLimit":10,

// THIS IS WHAT INFORMATION WILL SHOW IN THE DATA
	"fields":
		["animalName", "animalSpecies", "animalPictures","animalLocationPublic","animalSizeCurrent","animalLocationCitystate","animalStatus","animalLocationZipcode","animalBreed","animalSex","animalHousetrained","animalGeneralAge","animalDescription","animalNotes","animalObedienceTraining","animalOKWithAdults", "animalAdoptionPending", "animalPrimaryBreed", "animalSizeCurrent", "animalSummary", "ownerAddress","locationAddress", "locationAnimals", "contactCompany", "locationPhone", "locationName", "animalColor", "animalMainBreed" ],

// THESE ARE THE SEARCH PARAMETERS TO SPECIFICALLY FIND WHAT ANIMAL
<<<<<<< HEAD
"filters":[
{"fieldName":"animalSpecies","operation":"equals","criteria":"dog"},
{"fieldName":"animalLocationDistance","operation":"radius","criteria":"90"},
{"fieldName":"animalLocation","operation":"equals","criteria":"07646"},
{"fieldName":"animalStatus","operation":"equals","criteria":"Available"},
{"fieldName": "locationAddress", "operation": "notblank", "criteria": "true"},
{"fieldName": "locationPhone", "operation": "notblank", "criteria": "true"},
{"fieldName": "animalHousetrained", "operation": "notblank", "criteria": "true"},
{"fieldName": 'animalMainBreed', 'operation': 'equals', 'criteria': 'Yorkie'}
]}};

var encoded = $.toJSON(thing)
=======

	"filters":
		[
			{"fieldName":"animalSpecies","operation":"contains","criteria":animal},
			{"fieldName":"animalLocationDistance","operation":"radius","criteria":miles},
			{"fieldName":"animalLocation","operation":"equals","criteria":zipCode},
			{"fieldName":"animalStatus","operation":"equals","criteria":"Available"},
			{"fieldName":"locationAddress", "operation": "notblank", "criteria": "true"},
			{"fieldName":"animalBreed", "operation": "contains", "criteria":animalBreed}
		]
	}
};

console.log(thing.search.filters[0]);


    $("#submitBtn").on("click", function(){
    var breedInput = $('#breedInput').val().trim();

  });



var encoded = $.toJSON(thing);
>>>>>>> 13409436a8a31d98b1a271c1bcbcf61a54f6cebd

// console.log("https://api.rescuegroups.org/http/json/?data=" + encoded)


 
$.ajax({
  url: "https://api.rescuegroups.org/http/json/?data=" + encoded, 
  dataType: "jsonp",
  success: function(data) {
        if (data.foundRows) document.getElementById('adoptedPetsCount').innerHTML = data.foundRows;
        // USE LO DASH " _. " TO TRANSFORM AN OBJECT TO AN ARRAY

        var animalName = _.toArray(data.data);
 		console.log(animalName);

		for(var i=0; i<animalName.length; i++) {
			console.log(animalName[i].animalName);
			console.log(animalName[i].animalBreed);
			console.log(animalName[i].animalSex);
			console.log(animalName[i].animalColor);
			console.log(animalName[i].animalPictures[0].urlSecureFullsize)
			console.log(animalName[i].locationName);
			console.log(animalName[i].locationAddress);
			console.log(animalName[i].animalLocationCitystate);
			console.log(animalName[i].locationPhone);
			console.log("========================================")
		}


  },
  error: function(xhr, status, error) {
    console.log('error');
  }
}); 


</script>



	
</body>
</html>